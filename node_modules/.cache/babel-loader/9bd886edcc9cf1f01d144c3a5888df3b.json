{"remainingRequest":"/Users/Mac/Downloads/Omeclone/node_modules/babel-loader/lib/index.js!/Users/Mac/Downloads/Omeclone/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Mac/Downloads/Omeclone/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Mac/Downloads/Omeclone/src/components/Canvas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Mac/Downloads/Omeclone/src/components/Canvas.vue","mtime":1570804640000},{"path":"/Users/Mac/Downloads/Omeclone/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Mac/Downloads/Omeclone/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Mac/Downloads/Omeclone/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Mac/Downloads/Omeclone/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL01hYy9Eb3dubG9hZHMvT21lY2xvbmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2hhdC1jYW52YXMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcmV2OiB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH0sCiAgICAgIGN1cnI6IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfSwKICAgICAgY3R4OiBudWxsLAogICAgICBzdHJva2VTdHlsZTogJ2JsYWNrJywKICAgICAgbGluZVdpZHRoOiAxLAogICAgICBzdHlsZTogewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydyZW1vdGVDYW52YXMnLCAnaXNDYW52YXNTaG93bicsICdzb2NrZXQnLCAnY29ubmVjdGlvblN0YXRlJ10pKSwge30sIHsKICAgIHBhcmVudFN0eWxlOiBmdW5jdGlvbiBwYXJlbnRTdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogdGhpcy5zdHlsZS53aWR0aCArICdweCcsCiAgICAgICAgaGVpZ2h0OiB0aGlzLnN0eWxlLmhlaWdodCArICdweCcKICAgICAgfTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgcmVtb3RlQ2FudmFzOiBmdW5jdGlvbiByZW1vdGVDYW52YXMocGF5bG9hZCkgewogICAgICB2YXIgY3R4ID0gdGhpcy4kcmVmcy5yZW1vdGVDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHgubW92ZVRvKHBheWxvYWQucHJldi54LCBwYXlsb2FkLnByZXYueSk7CiAgICAgIGN0eC5saW5lVG8ocGF5bG9hZC5jdXJyLngsIHBheWxvYWQuY3Vyci55KTsKICAgICAgY3R4LmxpbmVXaWR0aCA9IHBheWxvYWQubGluZVdpZHRoOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSBwYXlsb2FkLnN0cm9rZVN0eWxlOwogICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgIH0sCiAgICBjb25uZWN0aW9uU3RhdGU6IGZ1bmN0aW9uIGNvbm5lY3Rpb25TdGF0ZShzdGF0ZSkgewogICAgICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7CiAgICAgICAgdGhpcy5jbGVhcigpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHNpYmxpbmcgPSB0aGlzLiRyZWZzLmNhbnZhcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgdGhpcy5zdHlsZS53aWR0aCA9IHNpYmxpbmcub2Zmc2V0V2lkdGg7CiAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHNpYmxpbmcub2Zmc2V0SGVpZ2h0OwogICAgdGhpcy5jdHggPSB0aGlzLiRyZWZzLmxvY2FsQ2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdGFydFBhaW50OiBmdW5jdGlvbiBzdGFydFBhaW50KGV2ZW50KSB7CiAgICAgIHRoaXMuY3Vyci54ID0gZXZlbnQub2Zmc2V0WDsKICAgICAgdGhpcy5jdXJyLnkgPSBldmVudC5vZmZzZXRZOwogICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTsKICAgICAgZXZlbnQudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMucGFpbnQpOwogICAgfSwKICAgIHN0b3BQYWludDogZnVuY3Rpb24gc3RvcFBhaW50KGV2ZW50KSB7CiAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpOwogICAgICBldmVudC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5wYWludCk7CiAgICB9LAogICAgcGFpbnQ6IGZ1bmN0aW9uIHBhaW50KGV2ZW50KSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB0aGlzLnByZXYueCA9IHRoaXMuY3Vyci54OwogICAgICB0aGlzLnByZXYueSA9IHRoaXMuY3Vyci55OwogICAgICB0aGlzLmN1cnIueCA9IGV2ZW50Lm9mZnNldFg7CiAgICAgIHRoaXMuY3Vyci55ID0gZXZlbnQub2Zmc2V0WTsKICAgICAgdGhpcy5jdHgubW92ZVRvKHRoaXMucHJldi54LCB0aGlzLnByZXYueSk7CiAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLmN1cnIueCwgdGhpcy5jdXJyLnkpOwogICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDsKICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlOwogICAgICB0aGlzLmN0eC5zdHJva2UoKTsKCiAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ29wZW4nKSB7CiAgICAgICAgdGhpcy5zeW5jKCk7CiAgICAgIH0KICAgIH0sCiAgICBzeW5jOiBmdW5jdGlvbiBzeW5jKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KCdjYW52YXMnLCB0aGlzLiRkYXRhKTsKICAgIH0sCiAgICBzZXRTdHJva2VTdHlsZTogZnVuY3Rpb24gc2V0U3Ryb2tlU3R5bGUoZXZlbnQpIHsKICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgIH0sCiAgICBzZXRMaW5lV2lkdGg6IGZ1bmN0aW9uIHNldExpbmVXaWR0aChldmVudCkgewogICAgICB0aGlzLmxpbmVXaWR0aCA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoZXZlbnQpIHsKICAgICAgdmFyIHJlbW90ZUN0eCA9IHRoaXMuJHJlZnMucmVtb3RlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHJlbW90ZUN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5yZW1vdGVDYW52YXMuc3R5bGUud2lkdGgsIHRoaXMucmVtb3RlQ2FudmFzLnN0eWxlLmhlaWdodCk7CiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnN0eWxlLndpZHRoLCB0aGlzLnN0eWxlLmhlaWdodCk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShldmVudCkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IHRoaXMuc3R5bGUud2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLnN0eWxlLmhlaWdodDsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjdHguZHJhd0ltYWdlKHRoaXMuJHJlZnMucmVtb3RlQ2FudmFzLCAwLCAwKTsKICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLiRyZWZzLmxvY2FsQ2FudmFzLCAwLCAwKTsKICAgICAgdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGxpbmsuZG93bmxvYWQgPSAnY2hhdHJvdWxldHRlLnBuZyc7CiAgICAgIGxpbmsuaHJlZiA9IGRhdGFVUkw7CiAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgY2FudmFzID0gbGluayA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Canvas.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"canvas\" v-show=\"isCanvasShown\" ref=\"canvas\" :style=\"parentStyle\">\n    <canvas\n      class=\"remote-canvas\"\n      ref=\"remoteCanvas\"\n      :width=\"style.width\"\n      :height=\"style.height\">\n    </canvas>\n    <canvas\n      class=\"local-canvas\"\n      ref=\"localCanvas\"\n      @mousedown.stop=\"startPaint\"\n      @mouseup.stop=\"stopPaint\"\n      @mouseout.stop=\"stopPaint\"\n      :width=\"style.width\"\n      :height=\"style.height\">\n    </canvas>\n\n    <span class=\"canvas-tool\">\n      <input type=\"color\" name=\"color\" @change=\"setStrokeStyle\">\n      <input type=\"range\" name=\"range\" min=\"1\" max=\"10\" value=\"1\" @change=\"setLineWidth\">\n      <input type=\"button\" name=\"save\" value=\"Save\" @click=\"save\">\n      <input type=\"button\" name=\"clear\" value=\"Clear\" @click=\"clear\">\n    </span>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'chat-canvas',\n\n  data () {\n    return {\n      prev: { x: 0, y: 0 },\n      curr: { x: 0, y: 0 },\n      ctx: null,\n      strokeStyle: 'black',\n      lineWidth: 1,\n      style: { width: 0, height: 0 }\n    }\n  },\n\n  computed: {\n    ...mapState(['remoteCanvas', 'isCanvasShown', 'socket', 'connectionState']),\n    parentStyle () {\n      return {\n        width: this.style.width + 'px',\n        height: this.style.height + 'px'\n      }\n    }\n  },\n\n  watch: {\n    remoteCanvas (payload) {\n      let ctx = this.$refs.remoteCanvas.getContext('2d')\n      ctx.beginPath()\n      ctx.moveTo(payload.prev.x, payload.prev.y)\n      ctx.lineTo(payload.curr.x, payload.curr.y)\n      ctx.lineWidth = payload.lineWidth\n      ctx.strokeStyle = payload.strokeStyle\n      ctx.stroke()\n      ctx.closePath()\n    },\n    connectionState (state) {\n      if (state === 'closed') {\n        this.clear()\n      }\n    }\n  },\n\n  mounted () {\n    let sibling = this.$refs.canvas.previousElementSibling\n    this.style.width = sibling.offsetWidth\n    this.style.height = sibling.offsetHeight\n    this.ctx = this.$refs.localCanvas.getContext('2d')\n  },\n\n  methods: {\n    startPaint (event) {\n      this.curr.x = event.offsetX\n      this.curr.y = event.offsetY\n      this.ctx.beginPath()\n      event.target.addEventListener('mousemove', this.paint)\n    },\n    stopPaint (event) {\n      this.ctx.closePath()\n      event.target.removeEventListener('mousemove', this.paint)\n    },\n    paint (event) {\n      event.stopPropagation()\n      this.prev.x = this.curr.x\n      this.prev.y = this.curr.y\n      this.curr.x = event.offsetX\n      this.curr.y = event.offsetY\n      this.ctx.moveTo(this.prev.x, this.prev.y)\n      this.ctx.lineTo(this.curr.x, this.curr.y)\n      this.ctx.lineWidth = this.lineWidth\n      this.ctx.strokeStyle = this.strokeStyle\n      this.ctx.stroke()\n      if (this.connectionState === 'open') {\n        this.sync()\n      }\n    },\n    sync () {\n      this.socket.emit('canvas', this.$data)\n    },\n    setStrokeStyle (event) {\n      this.strokeStyle = event.target.value\n    },\n    setLineWidth (event) {\n      this.lineWidth = event.target.value\n    },\n    clear (event) {\n      let remoteCtx = this.$refs.remoteCanvas.getContext('2d')\n      remoteCtx.clearRect(0, 0, this.remoteCanvas.style.width, this.remoteCanvas.style.height)\n      this.ctx.clearRect(0, 0, this.style.width, this.style.height)\n    },\n    save (event) {\n      let canvas = document.createElement('canvas')\n      canvas.width = this.style.width\n      canvas.height = this.style.height\n      let ctx = canvas.getContext('2d')\n      ctx.drawImage(this.$refs.remoteCanvas, 0, 0)\n      ctx.drawImage(this.$refs.localCanvas, 0, 0)\n      let dataURL = canvas.toDataURL('image/png')\n      let link = document.createElement('a')\n      link.download = 'chatroulette.png'\n      link.href = dataURL\n      link.click()\n      canvas = link = null\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n#canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n\n  .local-canvas, .remote-canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    cursor: default;\n  }\n\n  .canvas-tool {\n    position: absolute;\n    bottom: -33px;\n    left: 100px;\n\n    input {\n      vertical-align: middle;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}